{{#if flavor}}<span class="flavor-text">{{flavor}}</span>{{/if}}
{{#if result}}
<details class="damage-details">
    <summary class="damage-summary">{{localize "SW25.Effect.Chat.Damage.Details"}}<span class="acordion-icon"></span></summary>
    <div class="damage-contents">
        <label class="damage-value">{{localize "SW25.Effect.Chat.Damage.BaseDamage"}}: {{result.base}}</label>

        <ul class="damage-detailtable">
            <li class="damage-header">
                <div class="damage-cell">{{localize "SW25.Effect.Chat.Damage.Element"}}</div>
                <div class="damage-cell">{{localize "SW25.Effect.Chat.Damage.Bonus"}}</div>
                <div class="damage-cell">{{localize "SW25.Effect.Chat.Damage.Decay"}}</div>
            </li>
            {{#each result.elementAnalysis.magic.elements}}
            <li class="damage-row">
                <div class="damage-cell">{{localize (concat "SW25.Effect.Chat." key)}}</div>
                <div class="damage-cell">{{bonus}}</div>
                <div class="damage-cell">{{decay}}</div>
            </li>
            {{/each}}
            {{#each result.elementAnalysis.physical.elements}}
            <li class="damage-row">
                <div class="damage-cell">{{localize (concat "SW25.Effect.Chat." key)}}</div>
                <div class="damage-cell">{{bonus}}</div>
                <div class="damage-cell">{{decay}}</div>
            </li>
            {{/each}}
        </ul>
        <hr />
        <label class="damage-total">{{localize "SW25.Effect.Chat.Damage.TotalDamage"}}: {{result.total}}</label>
    </div>
</details>

<div class="element-tags">
{{#each result.detail}}
{{#if key}}
<div class="element-tag el-{{key}}">{{localize (concat "SW25.Effect.Chat." key)}}{{#if value}}:{{value}}{{/if}}</div>
{{/if}}
{{/each}}
</div>
{{/if}}
<div style="text-align: center;">
    {{#if cancel}}
        <span style="color: #333; font-weight: bold; font-size: 1.5em;">{{localize "SW25.Item.Spell.Cancel"}}</span>
        <div style="text-align: right; font-size: 0.7em;"> >>><span style="font-size:1.2em;"> {{target}}</span></div>
    {{else}}
        {{#if (eq type "buttonpd")}}<span style="color: #862020; font-weight: bold; font-size: 1.5em;">{{value}}</span> {{localize "SW25.Pdamage"}}{{/if}}
        {{#if (eq type "buttonmd")}}<span style="color: #862020; font-weight: bold; font-size: 1.5em;">{{value}}</span> {{localize "SW25.Mdamage"}}{{/if}}
        {{#if (eq type "buttoncd")}}<span style="color: #862020; font-weight: bold; font-size: 1.5em;">{{value}}</span> {{localize "SW25.Cdamage"}}{{/if}}
        {{#if (eq type "buttonhr")}}<span style="color: #0f6f0f; font-weight: bold; font-size: 1.5em;">{{value}}</span> HP{{localize "SW25.Recovery"}}{{/if}}
        {{#if (eq type "buttonmr")}}<span style="color: #0f6f0f; font-weight: bold; font-size: 1.5em;">{{value}}</span> MP{{localize "SW25.Recovery"}}{{/if}}
        {{#if isView}}&nbsp;:&nbsp;<span style="color: gray;"><span style="font-weight: bold; font-size: 1.1em;"> {{beforeValue}}</span> >>> <span style="font-weight: bold; font-size: 1.1em;">{{afterValue}}</span></span>{{/if}}
        <div style="text-align: right; font-size: 0.7em;"> >>><span style="font-size:1.2em;"> {{target}}</span></div>
        <div class="flexrow flex-group-center grid grid-5col nogapmargin">
            <div class="grid-span-4" style="text-align: center;"></div>
            <div>
                <button class="buttonclick" data-buttontype="applycancel" style="font-size:0.8em;"><span style="color: #0f6f0f;"><i class="fa-solid fa-arrow-rotate-left"></i></span>{{localize "SW25.Item.Spell.Cancel"}}</button>
            </div>
        </div>
    {{/if}}
</div>
