<form class="{{cssClass}} {{actor.type}} flexcol" autocomplete="off">

  {{#unless system.limited}}
  {{!-- Sheet Header --}}
  <header class="sheet-header">
    <div class="adventurer-details textalign-center">
      <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="100" width="100"/>
      <div class="header-resources">
        <div class="resources flexcol">
          {{#unless system.toFellow}}
          <div class="hpbar">
            <div class="hp-progress-bar">
              <progress class="hp-bar grid-span-3" value="{{system.hp.value}}" max="{{system.hp.max}}"></progress>
              <div class="current-max-resource nobreak">
                <input id="{{actor._id}}hp" type="number" name="system.hp.value" value="{{system.hp.value}}" data-dtype="Number"/>
                <span class="inline-block">/ {{system.hp.max}}</span>
              </div>
            </div>
            <div class="hpmod nobreak" style="font-size: 0.7rem; display: flex; align-items: center; justify-content: end; height: 20px;">
              <label for="{{actor._id}}hpmod" class="resource-label">{{localize "SW25.Modifier"}}: </label>
              <input id="{{actor._id}}hpmod" style="height: 80%;" type="number" name="system.hp.hpmod" value="{{system.hp.hpmod}}" data-dtype="Number"/>
            </div>
          </div>
          {{/unless}}
          <div class="mpbar">
            <div class="mp-progress-bar">
              <progress class="mp-bar grid-span-3" value="{{system.mp.value}}" max="{{system.mp.max}}"></progress>
              <div class="current-max-resource nobreak">
                <input id="{{actor._id}}mp" type="number" name="system.mp.value" value="{{system.mp.value}}" data-dtype="Number"/>
                <span class="inline-block">/ {{system.mp.max}}</span>
              </div>
            </div>
            <div class="mpmod nobreak"  style="font-size: 0.7rem; display: flex; align-items: center; justify-content: end; height: 20px;">
              <label for="{{actor._id}}mpmod" class="resource-label">{{localize "SW25.Modifier"}}: </label>
              <input id="{{actor._id}}mpmod" style="height: 80%;" type="number" name="system.mp.mpmod" value="{{system.mp.mpmod}}" data-dtype="Number"/>
            </div>
          </div>
          {{#if system.toFellow}}
          <div class="roll-actiontable action-button rollable"><i class="fas fa-dice-d6"></i>{{localize "SW25.ActionRoll"}}</div>
          {{/if}}
        </div>
      </div>
    </div>
    <div class="header-fields flexrow">
      <div class="character-details">
        <div class="character-details-primary flexrow">
          <div class="flexcol">
            <div class="character-name fontsize14">
              <input id="{{actor._id}}name" name="name" type="text" value="{{actor.name}}" placeholder="Name"/>
            </div>
            {{#if system.toFellow}}
            <div>
              <input id="{{actor._id}}skilllist" style="font-size: 0.7rem;" type="text" name="system.skilllist" value="{{system.skilllist}}" placeholder="" data-dtype="String"/>
            </div>
            {{/if}}
          </div>
          <div class="character-fellow">
            <label for="{{actor._id}}fellow" class="resource-label">{{localize "SW25.Fellow"}}</label> <br>
            <label for="{{actor._id}}fellow"><i class="{{#if system.toFellow}}fas fa-toggle-on{{else}}fas fa-toggle-off{{/if}}"></i></label>
            <input id="{{actor._id}}fellow" style="display: none;" type="checkbox" name="system.toFellow" {{#if system.toFellow}}checked{{/if}} data-dtype="Boolean"/>
          </div>
          <div class="character-al inline-block level-container">
            <i class="fas fa-bolt"></i>
            {{#if system.toFellow}}
            <span class="nobreak level-label">{{localize "SW25.Level"}}</span>
            <span class="adventurer-level level-value">
            <input id="{{actor._id}}level" style="font-weight: bold;" type="number" name="system.attributes.advlevel.value" value="{{system.attributes.advlevel.value}}" data-dtype="Number"/>
            </span>
            {{/if}}
          </div>
        </div> 
        <hr>
        {{#unless system.toFellow}}
        <div class="npc-parameters character-details-secondary flexcol">
          <div style="height: auto; min-height: 90px;">
            <b>{{localize "SW25.Overview"}}</b><br>{{{system.displayoverview}}}
          </div>
          <hr>
          <div class="character-details-secondary flexrow">
            <div class="npc-pp">
              <span class="npc-label">{{localize "SW25.Attributes.Protectionpoint.abbr"}}</span><br>
              <span class="npc-value">{{system.pp}}</span>
            </div>
            <div class="npc-mpp">
              <span class="npc-label">{{localize "SW25.Attributes.Magicprotection.abbr"}}</span><br>
              <span class="npc-value">{{system.mpp}}</span>
            </div>
            <div class="npc-blank">
            </div>
          </div>
          <hr>
        </div>
        {{/unless}}
        {{#if system.toFellow}}
        <div class="character-details-secondary textalign-center flexrow">
          <div class="character-race">
            <label for="{{actor._id}}race" class="resource-label">{{localize "SW25.Race"}}</label> 
            <input id="{{actor._id}}race" type="text" name="system.race" value="{{system.race}}" placeholder="Race" data-dtype="String"/>
          </div>
          <div class="character-age">
            <label for="{{actor._id}}age" class="resource-label">{{localize "SW25.Attributes.Age"}}</label>
            <input id="{{actor._id}}age" type="number" name="system.attributes.age" value="{{system.attributes.age}}" placeholder="Age" data-dtype="Number"/>
          </div>
          <div class="character-gender">
            <label for="{{actor._id}}gender" class="resource-label">{{localize "SW25.Attributes.Gender"}}</label>
            <input id="{{actor._id}}gender" type="text" name="system.attributes.gender" value="{{system.attributes.gender}}" placeholder="Gender" data-dtype="String"/>
          </div>
          <div class="character-fellowexp">
            <label for="{{actor._id}}fellowexp" class="resource-label">{{localize "SW25.Attributes.Exp"}}</label> <br>
            <input id="{{actor._id}}fellowexp" type="checkbox" name="system.attributes.fellowexp" {{#if system.attributes.fellowexp}}checked{{/if}} data-dtype="Boolean"/>
          </div>
          <div class="character-fellowreward">
            <label for="{{actor._id}}fellowreward" class="resource-label">{{localize "SW25.Reward"}}</label> <br>
            <input id="{{actor._id}}fellowreward" type="checkbox" name="system.attributes.fellowreward" {{#if system.attributes.fellowreward}}checked{{/if}} data-dtype="Boolean"/>
          </div>
        </div>
        <hr>
        <div class="character-details-tertiary textalign-left flexrow">
          <div class="character-fellowlanglabel">
            <span for="{{actor._id}}fellowlang" class="resource-label">{{localize "SW25.Languages"}}:</span>
          </div>
          <div class="character-fellowlang">
            <span class="langlist">{{system.attributes.langlist}}</span>
          </div>
        </div>
        <hr>
        <div class="character-details-tertiary textalign-left flexrow">
          <div class="character-fellowmemolabel">
            <span for="{{actor._id}}fellowmemo" class="resource-label">{{localize "SW25.Fellowmemo"}}:</span>
          </div>
          <div class="character-fellowmemo">
            <textarea id="{{actor._id}}fellowmemo" class="textarea-editor" type="text" name="system.fellowmemo" placeholder="Memo" style="width: 100%; height: 40px;">{{system.fellowmemo}}</textarea>
          </div>
        </div>
        {{/if}}
      </div>
    </div>
  </header>

  {{#unless system.toFellow}}
  {{!-- Sheet Tab Navigation --}}
  <nav class="sheet-tabs tabs" data-group="primary">
    <a class="item" data-tab="description">{{localize "SW25.Description"}}</a>
    <a class="item" data-tab="details">{{localize "SW25.Details"}}</a>
    <a class="item" data-tab="effects">{{localize "SW25.Effects"}}</a>
  </nav>

  {{!-- Sheet Body --}}
  <section class="sheet-body">

    {{!-- Biography Tab --}}
    <div class="tab biography" data-group="primary" data-tab="description">
      {{editor system.biography target="system.biography" rollData=rollData button=true owner=owner editable=editable}}
    </div>

    {{!-- Owned Details Tab --}}
    <div class="tab items" data-group="primary" data-tab="details">
      <div class="flexcol">
        <div class="flexrow grid grid-5col">
          <div class="grid-span-1 flex-group-center nogapmargin">
            <div class="grid grid-2col nogapmargin">
              <div class="grid-span-2">
                <span style="text-align: center;"><label for="{{actor._id}}system.attributes.advlevel.value"><b>{{localize "SW25.Level"}}</b></label><br>
                <input id="{{actor._id}}system.attributes.advlevel.value" style="max-width: calc(50% - 7px); text-align: center;" type="text" name="system.attributes.advlevel.value" value="{{system.attributes.advlevel.value}}" data-dtype="Number"/></span>
              </div>
              <div>
                <span style="text-align: center;"><label for="{{actori._id}}system.hpbase"><b>{{localize "SW25.Max"}}{{localize "SW25.Hp"}}</b></label><br>
                <input id="{{actori._id}}system.hpbase" style="text-align: center;" type="text" name="system.hpbase" value="{{system.hpbase}}" data-dtype="Number"/></span>
              </div>
              <div>
                <span style="text-align: center;"><label for="{{actori._id}}system.mpbase"><b>{{localize "SW25.Max"}}{{localize "SW25.Mp"}}</b></label><br>
                <input id="{{actori._id}}system.mpbase" style="text-align: center;" type="text" name="system.mpbase" value="{{system.mpbase}}" data-dtype="Number"/></span>
              </div>
              <div>
                <span style="text-align: center;"><label for="{{actor._id}}system.ppbase"><b>{{localize "SW25.Attributes.Protectionpoint.abbr"}}</b></label><br>
                <input id="{{actor._id}}system.ppbase" style="text-align: center;" type="text" name="system.ppbase" value="{{system.ppbase}}" data-dtype="Number"/></span>
              </div>
              <div>
                <span style="text-align: center;"><label for="{{actor._id}}system.mppbase"><b>{{localize "SW25.Attributes.Magicprotection.abbr"}}</b></label><br>
                <input id="{{actor._id}}system.mppbase" style="text-align: center;" type="text" name="system.mppbase" value="{{system.mppbase}}" data-dtype="Number"/></span>
              </div>
            </div>
          </div>
          <div class="grid-span-4">
            <div>
              <label for="{{actori._id}}system.overview"><b>{{localize "SW25.Overview"}}</b></label><br>
              <textarea class="textarea-editor" id="{{actori._id}}system.overview" style="width: 100%; height: 70px;" data-path="overview">{{system.overview}}</textarea>
            </div>
            <div>
              <span style="text-align: center;"><label for="{{actori._id}}system.language"><b>{{localize "SW25.Monster.Language"}}</b></label><br>
              <input id="{{actori._id}}system.language" type="text" name="system.language" value="{{system.language}}" data-dtype="String"/></span>
            </div>
          </div>
        </div>
        {{#if system.isgm}}
        <div class="flexcol margin-m">
          <div><b>{{localize "SW25.Gminfo"}}</b></div>
          <span style="text-align: left;"><label for="{{actor._id}}system.udname">{{localize "SW25.Unidentifiedname"}}</label><input id="{{actor._id}}system.udname" style="max-width: calc(50% - 7px); text-align: left;" type="text" name="system.udname" value="{{system.udname}}" data-dtype="String"/></span>
          <div>{{editor system.gminfo target="system.gminfo" rollData=rollData button=true owner=owner editable=editable}}</div>
        </div>
        {{/if}}
      </div>
    </div>

    {{!-- Active Effects Tab --}}
    <div class="tab effects flexcol" data-group="primary" data-tab="effects">
      <div class="flexcol margin-l gap-m">
        <div class="resource-label-l">{{localize "SW25.Effect.TotalEffects"}}</div>
        <div class="grid grid-4col">
          {{#if system.totalppmod}}<div><b>{{localize "SW25.Effect.PpMod"}}: {{system.totalppmod}}</b></div>{{/if}}
          {{#if system.totalmppmod}}<div><b>{{localize "SW25.Effect.MppMod"}}: {{system.totalmppmod}}</b></div>{{/if}}
          {{#if system.totaldreduce}}<div><b>{{localize "SW25.Effect.Dreduce"}}: {{system.totaldreduce}}</b></div>{{/if}}
          {{#if system.totalhpmod}}<div><b>{{localize "SW25.Effect.HpMod"}}: {{system.totalhpmod}}</b></div>{{/if}}
          {{#if system.totalmpmod}}<div><b>{{localize "SW25.Effect.MpMod"}}: {{system.totalmpmod}}</b></div>{{/if}}
        </div>
      </div>
      <div>
        {{> "systems/sw25/templates/actor/parts/actor-effects.hbs"}}
      </div>
    </div>

  </section>
  {{/unless}}

  {{#if system.toFellow}}
  {{!-- Fellow Tab Navigation --}}
  <nav class="sheet-tabs tabs" data-group="primary">
    <a class="item" data-tab="fellowAction">{{localize "SW25.ActionTable"}}</a>
    <a class="item" data-tab="fellowSetting">{{localize "SW25.Setting"}}</a>
  </nav>

  {{!-- Fellow Sheet Body --}}
  <section class="sheet-body">

    {{!-- Fellow Action Tab --}}
    <div class="tab fellowAction flexcol" data-group="primary" data-tab="fellowAction">
      {{#if (eq system.tabletype "fellow")}}
      <div class="flexcol margin-s">
        <div>
          {{> "systems/sw25/templates/actor/parts/actor-actions-fellow.hbs"}}
        </div>
      </div>
      {{/if}}
      {{#if (eq system.tabletype "daemon")}}
      <div class="flexcol margin-s">
        <div>
          {{> "systems/sw25/templates/actor/parts/actor-actions-daemon.hbs"}}
        </div>
      </div>
      {{/if}}
      <div class="margin-m" style="display: flex; align-items: center;">
        <input type="checkbox" id="{{actor._id}}system.attributes.showaction" name="system.attributes.showaction" data-dtype="Boolean" {{#if system.attributes.showaction}} checked {{/if}}/>
        <label for="{{actor._id}}system.attributes.showaction">{{localize "SW25.Attributes.Showaction"}}</label>
      </div>
      {{#if system.attributes.showaction}}
      <div class="flexcol margin-s">
        <div>
          {{> "systems/sw25/templates/actor/parts/actor-actions.hbs"}}
        </div>
      </div>
      {{/if}}
    </div>

    {{!-- Fellow Setting Tab --}}
    <div class="tab fellowSetting flexcol" data-group="primary" data-tab="fellowSetting">
      <div class="grid grid-10col margin-s">
        <span class="grid-span-2" style="text-align: center;"><b>{{localize "SW25.Item.Action.TableType"}}</b><br>
          <select name="system.tabletype">
            {{selectOptions config.fellowTypes selected=system.tabletype localize=true}}
         </select>
        </span>
        <span class="grid-span-8"></span>
        <span class="grid-span-10" style="text-align: left;"><label for="{{actor._id}}system.canceldialog"><b>{{localize "SW25.CancelDialog"}}</b></label><br>
        <input id="{{actor._id}}system.canceldialog" type="text" name="system.canceldialog" value="{{system.canceldialog}}" data-dtype="String"/></span>        
      </div>
    </div>

  </section>
  {{/if}}

  {{/unless}}

  {{#if system.limited}}
  <header class="sheet-header">
    <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="100" width="100"/>
    <div class="header-fields">
      <h1 class="charname"><input name="name" type="text" value="{{actor.name}}" placeholder="Name"/></h1>
      <div class="resources grid grid-4col">
        <div></div>
        <div class="grid-span-3">
          <b>{{localize "SW25.Overview"}}</b><br>{{{system.overview}}}
        </div>
      </div>
    </div>
  </header>
  {{/if}}

</form>

